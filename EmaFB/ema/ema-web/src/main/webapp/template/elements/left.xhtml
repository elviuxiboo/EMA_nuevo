<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
	  xmlns:p="http://primefaces.org/ui"
      >
    <h:head>
        <title>Facelet Title</title>
    </h:head>
    <h:body>

        <ui:composition>
            <h:form >


                <p:accordionPanel dynamic="true" cache="true" style="width: 100%" >  
                    <p:tab title="Mis Proyectos" >
                                        <p:growl id="growl1" showSummary="true" showDetail="true" autoUpdate="true"/>

                <p:tree id="tree1" value="#{treeBean.model}"
                        var="node"
                        selectionMode="single"
                        selection="#{treeBean.selectedNode}"
                        dynamic = "true"
                        >
                    <p:ajax event="select"  listener="#{treeBean.onNodeSelect}" />
                    <p:ajax event="expand" listener="#{treeBean.onNodeExpand}" />
                    <p:ajax event="collapse" listener="#{treeBean.onNodeCollapse}" />
                    <p:treeNode type="default"
                                expandedIcon="../resources/imagenes/folder-open"
                                collapsedIcon="../resources/imagenes/folder-collapsed">
                        <h:outputText value="#{node}"/>
                    </p:treeNode>
                    <p:treeNode type="leaf" icon="document-node">
                        <h:outputText value="#{node}" />
                    </p:treeNode>
                </p:tree>
                    </p:tab>






                    <p:tab title="Proyectos Compartidos">
                        		<h:form>		
      
            <p:treeTable id="withContextMenu" value="#{treeTableBean.root}" var="element"
                         selection="#{treeTableBean.selectedItemForContextMenu}" selectionMode="single">
                <f:facet name="header">Proyectos Compartidos</f:facet>
                <p:column>
                    <f:facet name="header">Proyecto</f:facet>
                    <h:outputText value="#{element.name}" />
                </p:column>
                <p:column>
                    <f:facet name="header">Recurso</f:facet>
                    <h:outputText value="#{element.column1}" />
                </p:column>
                <p:column>
                    <f:facet name="header">Usuario</f:facet>
                    <h:outputText value="#{element.column2}" />
                </p:column>
            </p:treeTable>
            
      <h:form>

        <p:contextMenu  nodeType="node">
            <p:menuitem value="View" icon="ui-icon-search" oncomplete="nodeDialog.show()"/>
        </p:contextMenu>

        <p:contextMenu  nodeType="leaf">
            <p:menuitem value="View"  icon="ui-icon-search" oncomplete="nodeDialog.show()"/>
            
        </p:contextMenu>

      </h:form>
        </h:form>
                    </p:tab>
                </p:accordionPanel>



            </h:form>

        </ui:composition>

    </h:body>
</html>

